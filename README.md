GAME AGE OF WAR

Flappy Bird lÃ  má»™t trÃ² chÆ¡i Ä‘iá»‡n tá»­ do Nguyá»…n HÃ  ÄÃ´ng, má»™t láº­p trÃ¬nh viÃªn ngÆ°á»i Viá»‡t Nam, phÃ¡t triá»ƒn vÃ  Ä‘Æ°á»£c phÃ¡t hÃ nh bá»Ÿi dotGEARS vÃ o nÄƒm 2013. TrÃ² chÆ¡i cÃ³ lá»‘i chÆ¡i Ä‘Æ¡n giáº£n nhÆ°ng Ä‘áº§y thá»­ thÃ¡ch, yÃªu cáº§u ngÆ°á»i chÆ¡i Ä‘iá»u khiá»ƒn má»™t chÃº chim bay qua cÃ¡c á»‘ng mÃ u xanh mÃ  khÃ´ng va cháº¡m1. Ban Ä‘áº§u, Flappy Bird khÃ´ng gÃ¢y chÃº Ã½, nhÆ°ng Ä‘áº¿n Ä‘áº§u nÄƒm 2014, nÃ³ báº¥t ngá» trá»Ÿ thÃ nh hiá»‡n tÆ°á»£ng toÃ n cáº§u, Ä‘á»©ng Ä‘áº§u báº£ng xáº¿p háº¡ng á»©ng dá»¥ng trÃªn App Store vÃ  Google Play. Tuy nhiÃªn, do Ã¡p lá»±c tá»« sá»± ná»•i tiáº¿ng vÃ  nhá»¯ng tÃ¡c Ä‘á»™ng khÃ´ng mong muá»‘n, Nguyá»…n HÃ  ÄÃ´ng Ä‘Ã£ quyáº¿t Ä‘á»‹nh gá»¡ bá» trÃ² chÆ¡i vÃ o thÃ¡ng 2 nÄƒm 20141. Sá»± biáº¿n máº¥t Ä‘á»™t ngá»™t cá»§a Flappy Bird khiáº¿n cá»™ng Ä‘á»“ng game xÃ´n xao, vÃ  nhiá»u trÃ² chÆ¡i tÆ°Æ¡ng tá»± Ä‘Ã£ xuáº¥t hiá»‡n sau Ä‘Ã³.
LÃ  1 biáº¿n thá»ƒ cá»§a flappy bird,Age Of War há»©a háº¹n sáº½ Ä‘em láº¡i tráº£i nghiá»‡m má»›i máº» vÃ  váº«n giá»¯ nguyÃªn gameplay cá»• Ä‘iá»ƒn

MÃ´ táº£ vá» cÃ¡ch chÆ¡i:

Age Of War lÃ  má»™t trÃ² chÆ¡i Ä‘iá»‡n tá»­ cÃ³ cÃ¡ch chÆ¡i Ä‘Æ¡n giáº£n nhÆ°ng Ä‘áº§y thÃ¡ch thá»©c. NgÆ°á»i chÆ¡i Ä‘iá»u khiá»ƒn má»™t mÃ¡y bay báº±ng cÃ¡ch nháº¥n vÃ o mÃ n hÃ¬nh Ä‘á»ƒ giÃºp nÃ³ bay lÃªn. Náº¿u khÃ´ng nháº¥n, mÃ¡y bay sáº½ rÆ¡i xuá»‘ng do trá»ng lá»±c.

Má»¥c tiÃªu lÃ  Ä‘Æ°a mÃ¡y bay bay qua cÃ¡c khoáº£ng trá»‘ng giá»¯a cÃ¡c á»‘ng mÃ u xanh mÃ  khÃ´ng va cháº¡m vÃ o chÃºng. Má»—i láº§n vÆ°á»£t qua má»™t á»‘ng, ngÆ°á»i chÆ¡i sáº½ Ä‘Æ°á»£c tÃ­nh má»™t Ä‘iá»ƒm. TrÃ² chÆ¡i káº¿t thÃºc ngay láº­p tá»©c náº¿u mÃ¡y bay cháº¡m vÃ o á»‘ng hoáº·c rÆ¡i xuá»‘ng Ä‘áº¥t.

1. Tá»•ng quan vá» cÆ¡ cháº¿ chÆ¡i cá»§a Age Of War
TrÃ² chÆ¡i thuá»™c thá»ƒ loáº¡i arcade vá»›i cÃ¡ch Ä‘iá»u khiá»ƒn chá»‰ cÃ³ má»™t thao tÃ¡c: cháº¡m mÃ n hÃ¬nh Ä‘á»ƒ khiáº¿n mÃ¡y bay bay lÃªn. Khi khÃ´ng cháº¡m, mÃ¡y bay sáº½ rÆ¡i xuá»‘ng do lá»±c háº¥p dáº«n. NgÆ°á»i chÆ¡i pháº£i Ä‘iá»u chá»‰nh nhá»‹p Ä‘á»™ cháº¡m Ä‘á»ƒ giÃºp mÃ¡y bay bay qua cÃ¡c khe há»Ÿ giá»¯a cá»™t á»‘ng nÆ°á»›c mÃ  khÃ´ng va vÃ o chÃºng

2. Xá»­ lÃ½ va cháº¡m trong trÃ² chÆ¡i
2.1. PhÃ¡t hiá»‡n va cháº¡m
Age Of War sá»­ dá»¥ng cÆ¡ cháº¿ phÃ¡t hiá»‡n va cháº¡m dá»±a trÃªn hÃ¬nh chá»¯ nháº­t bao quanh Ä‘á»‘i tÆ°á»£ng (bounding box collision detection) Ä‘á»ƒ xÃ¡c Ä‘á»‹nh xem mÃ¡y bay Ä‘Ã£ va pháº£i má»™t váº­t thá»ƒ nÃ o chÆ°a. Cá»¥ thá»ƒ, cÃ³ ba loáº¡i va cháº¡m mÃ  trÃ² chÆ¡i pháº£i xá»­ lÃ½:

Va cháº¡m vá»›i cÃ¡c Ä‘Æ°á»ng á»‘ng: Má»—i cáº·p á»‘ng Ä‘Æ°á»£c láº­p trÃ¬nh nhÆ° hai hÃ¬nh chá»¯ nháº­t â€“ má»™t á»Ÿ trÃªn vÃ  má»™t á»Ÿ dÆ°á»›i â€“ vá»›i khoáº£ng trá»‘ng Ä‘á»§ cho chim bay qua. Náº¿u báº¥t ká»³ pháº§n nÃ o cá»§a hÃ¬nh chá»¯ nháº­t bao quanh mÃ¡y bay chá»“ng lÃªn hÃ¬nh chá»¯ nháº­t cá»§a Ä‘Æ°á»ng á»‘ng, trÃ² chÆ¡i coi nhÆ° Ä‘Ã£ cÃ³ va cháº¡m vÃ  láº­p tá»©c káº¿t thÃºc.

Va cháº¡m vá»›i máº·t Ä‘áº¥t: DÆ°á»›i cÃ¹ng mÃ n hÃ¬nh lÃ  khoáº£ng khÃ´ng vÃ´ Ä‘á»‹nh hoáº¡t Ä‘á»™ng nhÆ° má»™t khÃ´ng gian nguy hiá»ƒm. Náº¿u ,mÃ¡y bay rÆ¡i xuá»‘ng tháº¥p hÆ¡n má»™t ngÆ°á»¡ng nháº¥t Ä‘á»‹nh, nÃ³ sáº½ cháº¡m khÃ´ng gian nguy hiá»ƒm Ä‘Ã³ vÃ  trÃ² chÆ¡i káº¿t thÃºc ngay láº­p tá»©c.

Va cháº¡m vá»›i giá»›i háº¡n phÃ­a trÃªn mÃ n hÃ¬nh: Náº¿u ngÆ°á»i chÆ¡i liÃªn tá»¥c cháº¡m khiáº¿n mÃ¡y bay bay quÃ¡ cao, nÃ³ sáº½ Ä‘á»¥ng vÃ o giá»›i háº¡n trÃªn cÃ¹ng cá»§a mÃ n hÃ¬nh, cÅ©ng gÃ¢y ra káº¿t thÃºc trÃ² chÆ¡i.

2.2. Xá»­ lÃ½ khi xáº£y ra va cháº¡m
Má»—i khi phÃ¡t hiá»‡n va cháº¡m, trÃ² chÆ¡i sáº½ thá»±c hiá»‡n cÃ¡c bÆ°á»›c sau:

KÃ­ch hoáº¡t hiá»‡u á»©ng káº¿t thÃºc:NgÄƒn cháº·n mÃ¡y bay tiáº¿p tá»¥c di chuyá»ƒn vÃ  láº­p tá»©c out game.

Ghi láº¡i Ä‘iá»ƒm sá»‘ : Sau má»—i láº§n vÆ°á»£t á»‘ng Ä‘iá»ƒm sáº½ Ä‘Æ°á»£c tÄƒng hiá»ƒn thá»‹ trÃªn mÃ n hÃ¬nh

2.3. Tá»‘i Æ°u hÃ³a xá»­ lÃ½ va cháº¡m
Má»™t sá»‘ báº£n sao cá»§a Age Of War vÃ  cÃ¡c trÃ² chÆ¡i tÆ°Æ¡ng tá»± Ä‘Ã£ Ã¡p dá»¥ng phÆ°Æ¡ng phÃ¡p phÃ¡t hiá»‡n va cháº¡m dá»±a trÃªn pixel (pixel-perfect collision detection) thay vÃ¬ chá»‰ dá»±a vÃ o hÃ¬nh chá»¯ nháº­t. Äiá»u nÃ y giÃºp cáº£i thiá»‡n Ä‘á»™ chÃ­nh xÃ¡c, Ä‘áº·c biá»‡t lÃ  khi hÃ¬nh dáº¡ng cá»§a mÃ¡y bay khÃ´ng pháº£i lÃ  hÃ¬nh há»™p Ä‘Æ¡n giáº£n.

2.4. áº¢nh hÆ°á»Ÿng cá»§a cÆ¡ cháº¿ va cháº¡m Ä‘áº¿n tráº£i nghiá»‡m ngÆ°á»i chÆ¡i
Do xá»­ lÃ½ va cháº¡m mang tÃ­nh tá»©c thá»i vÃ  khÃ´ng cho phÃ©p sai sÃ³t, Age Of War trá»Ÿ thÃ nh má»™t trÃ² chÆ¡i cá»±c ká»³ thÃ¡ch thá»©c. Chá»‰ cáº§n má»™t khoáº£nh kháº¯c máº¥t táº­p trung, ngÆ°á»i chÆ¡i sáº½ tháº¥t báº¡i ngay láº­p tá»©c. ChÃ­nh Ä‘iá»u nÃ y khiáº¿n game trá»Ÿ nÃªn gÃ¢y nghiá»‡n, thÃºc Ä‘áº©y ngÆ°á»i chÆ¡i thá»­ láº¡i nhiá»u láº§n Ä‘á»ƒ cáº£i thiá»‡n thÃ nh tÃ­ch.

CÃ¡c tÃ i nguyÃªn hiá»ƒn thá»‹ trong game:

![background](https://github.com/user-attachments/assets/948c4a46-98ed-4cbf-82c9-122e2e3cba54):
Background cá»§a trÃ² chÆ¡i,mang láº¡i cáº£m giÃ¡c Ä‘áº§y nguy hiá»ƒm thÃ¡ch thá»©c

![bird](https://github.com/user-attachments/assets/8c658637-3ebb-4e0c-be2d-245b4bfa8cbc)
NhÃ¢n váº­t chÃ­nh Ä‘Ã²i há»i sá»± khÃ©o lÃ©o cá»§a ngÆ°á»i chÆ¡i Ä‘á»ƒ vÆ°á»£t qua má»i cáº£n trá»Ÿ,Ä‘áº¿n nÆ¡i an toÃ n

![pipe](https://github.com/user-attachments/assets/defed177-bfda-4cc4-b432-2ba1bd2ad078)
Váº­t cáº£n duy nháº¥t cáº§n nÃ© trÃ¡nh

Nháº¡c ná»n Ä‘Æ°á»£c láº¥y tá»«: https://pixabay.com/vi/music/search/nh%E1%BA%A1c%20chi%E1%BA%BFn%20tranh%20ho%C3%A0nh%20tr%C3%A1ng/

Giáº£i trÃ¬nh cÃ¡c file thiáº¿t láº­p trong game:
Má»—i file cÃ³ vai trÃ² riÃªng Ä‘á»ƒ giÃºp trÃ² chÆ¡i hoáº¡t Ä‘á»™ng Ä‘Ãºng cÃ¡ch. 

âœ… File .cpp chá»©a mÃ£ nguá»“n thá»±c thi logic. 

âœ… File .h chá»©a khai bÃ¡o Ä‘á»ƒ cÃ¡c file khÃ¡c cÃ³ thá»ƒ sá»­ dá»¥ng.



1ï¸âƒ£ main.cpp - File khá»Ÿi Ä‘á»™ng trÃ² chÆ¡i
ğŸ‘‰ Vai trÃ²: ÄÃ¢y lÃ  file chÃ­nh, nÆ¡i khá»Ÿi Ä‘á»™ng game. 
ğŸ‘‰ Chá»©a: VÃ²ng láº·p game (gameLoop()), khá»Ÿi táº¡o cá»­a sá»• SDL, vÃ  gá»i update() + render().




2ï¸âƒ£ main.h - Khai bÃ¡o chung
ğŸ‘‰ Vai trÃ²: Chá»©a khai bÃ¡o chung cho toÃ n game (háº±ng sá»‘, kÃ­ch thÆ°á»›c, biáº¿n toÃ n cá»¥c). 
ğŸ‘‰ Chá»©a: Äá»‹nh nghÄ©a cÃ¡c giÃ¡ trá»‹ nhÆ° SCREEN_WIDTH, SCREEN_HEIGHT.



3ï¸âƒ£ bird.h - Khai bÃ¡o lá»›p mÃ¡y bay
ğŸ‘‰ Vai trÃ²: Khai bÃ¡o cáº¥u trÃºc vÃ  chá»©c nÄƒng cá»§a mÃ¡y bay. 
ğŸ‘‰ Chá»©a:  struct Bird vá»›i cÃ¡c thuá»™c tÃ­nh nhÆ° x, y, velocity.  
          HÃ m update() Ä‘á»ƒ Ä‘iá»u khiá»ƒn bay cá»§a mÃ¡y bay. 
          HÃ m render() Ä‘á»ƒ váº½ mÃ¡y bay lÃªn mÃ n hÃ¬nh.




4ï¸âƒ£ bird.cpp - Thá»±c thi logic cá»§a MÃ¡y bay
ğŸ‘‰ Vai trÃ²: Xá»­ lÃ½ chuyá»ƒn Ä‘á»™ng, trá»ng lá»±c vÃ  váº½ mÃ¡y bay
ğŸ‘‰ Chá»©a: Bird::update() Ä‘á»ƒ mÃ¡y bay rÆ¡i xuá»‘ng hoáº·c bay lÃªn khi nháº¥n phÃ­m. 
          Bird::render() Ä‘á»ƒ hiá»ƒn thá»‹ mÃ¡y bay trÃªn mÃ n hÃ¬nh.
          Bird::flap() Ä‘á»ƒ Ä‘iá»u khiá»ƒn mÃ¡y bay.



5ï¸âƒ£ pipe.h - Khai bÃ¡o lá»›p á»‘ng nÆ°á»›c
ğŸ‘‰ Vai trÃ²: Khai bÃ¡o cáº¥u trÃºc cá»§a á»‘ng nÆ°á»›c (chÆ°á»›ng ngáº¡i váº­t). 
ğŸ‘‰ Chá»©a:  struct Pipe vá»›i thuá»™c tÃ­nh x, height, width. 
           HÃ m update() Ä‘á»ƒ á»‘ng nÆ°á»›c di chuyá»ƒn. 
           HÃ m render() Ä‘á»ƒ váº½ á»‘ng nÆ°á»›c lÃªn mÃ n hÃ¬nh.



6ï¸âƒ£ pipe.cpp - Thá»±c thi logic á»‘ng nÆ°á»›c
ğŸ‘‰ Vai trÃ²: Xá»­ lÃ½ di chuyá»ƒn á»‘ng nÆ°á»›c tá»« pháº£i sang trÃ¡i.
ğŸ‘‰ Chá»©a: Pipe::update() Ä‘á»ƒ di chuyá»ƒn á»‘ng nÆ°á»›c. 
          Pipe::render() Ä‘á»ƒ váº½ á»‘ng nÆ°á»›c. 
          Kiá»ƒm tra va cháº¡m giá»¯a chim vÃ  á»‘ng nÆ°á»›c (SDL_HasIntersection()).
          NÆ¡i Ä‘áº·t cÃ¡c háº±ng sá»‘ nhÆ° chiá»u cao á»‘ng,chiá»u rá»™ng á»‘ng , khoáº£ng cÃ¡ch giá»¯a hai á»‘ng,...



7ï¸âƒ£ game.h - Quáº£n lÃ½ trÃ² chÆ¡i
ğŸ‘‰ Vai trÃ²: Khai bÃ¡o cÃ¡c pháº§n cá»§a game, danh sÃ¡ch váº­t thá»ƒ (bird, pipes, ). 
ğŸ‘‰ Chá»©a:  Khai bÃ¡o danh sÃ¡ch std::vector<Pipe> pipes. 
          HÃ m resetGame() Ä‘á»ƒ thiáº¿t láº­p láº¡i trÃ² chÆ¡i khi mÃ¡y bay cháº¿t.
          Khai bÃ¡o cÃ¡c hÃ m Ä‘á»ƒ sá»­ dá»¥ng trong file game1.cpp nhÆ° init(),handleEvent(),update(),render(),clean.




8ï¸âƒ£ game1.cpp - Logic chÃ­nh cá»§a trÃ² chÆ¡i
ğŸ‘‰ Vai trÃ²: Chá»©a vÃ²ng láº·p chÃ­nh (gameLoop()), gá»i update() vÃ  render(). 
ğŸ‘‰ Chá»©a:  
   void update() cÃ³ nhiá»‡m vá»¥ cáº­p nháº­t tráº¡ng thÃ¡i game trÆ°á»›c khi hiá»ƒn thá»‹!
   
                        Trong vÃ²ng láº·p game, update() giÃºp: âœ… 1ï¸âƒ£ Cáº­p nháº­t vá»‹ trÃ­ cá»§a váº­t thá»ƒ (mÃ¡y bay,á»‘ng nÆ°á»›c). 
                        
                                                            âœ… 2ï¸âƒ£ Kiá»ƒm tra va cháº¡m giá»¯a cÃ¡c váº­t thá»ƒ. 
                                                            
                                                            âœ… 3ï¸âƒ£ XÃ³a váº­t thá»ƒ náº¿u cáº§n.
                                                            
                                                  
   void render()   Váº½ táº¥t cáº£ váº­t thá»ƒ: ná»n, mÃ¡y bay, á»‘ng nÆ°á»›c.
   
                  Cáº­p nháº­t hÃ¬nh áº£nh má»›i lÃªn cá»­a sá»• game (SDL_RenderPresent() 
                  
   void handleEvents() giÃºp xá»­ lÃ½ cÃ¡c sá»± kiá»‡n do ngÆ°á»i chÆ¡i thá»±c hiá»‡n!
   
                       Vai trÃ² cá»§a handleEvents():  Nháº­n input tá»« bÃ n phÃ­m hoáº·c chuá»™t (vÃ­ dá»¥: nháº¥n phÃ­m Ä‘á»ƒ chim bay lÃªn). 



 
   void Init()         1ï¸âƒ£ Khá»Ÿi Ä‘á»™ng thÆ° viá»‡n SDL -> SDL_Init(SDL_INIT_VIDEO) giÃºp khá»Ÿi Ä‘á»™ng SDL Ä‘á»ƒ váº½ Ä‘á»“ há»a. 

   
                       2ï¸âƒ£ Táº¡o cá»­a sá»• game -> SDL_CreateWindow() táº¡o cá»­a sá»• hiá»ƒn thá»‹ trÃ² chÆ¡i. 

                       
                       3ï¸âƒ£ Khá»Ÿi táº¡o bá»™ xá»­ lÃ½ Ä‘á»“ há»a (Renderer) ->  SDL_CreateRenderer() giÃºp game váº½ hÃ¬nh áº£nh lÃªn cá»­a sá»•. 

                       
                       4ï¸âƒ£ Táº£i tÃ i nguyÃªn (áº£nh, Ã¢m thanh) -> Náº¿u cÃ³ hÃ¬nh áº£nh, IMG_LoadTexture() sáº½ táº£i áº£nh chim, á»‘ng nÆ°á»›c, ná»n.

                       
                       5ï¸âƒ£ Khá»Ÿi táº¡o cÃ¡c Ä‘á»‘i tÆ°á»£ng trong game -> Táº¡o danh sÃ¡ch chim, á»‘ng nÆ°á»›c, sao, chÆ°á»›ng ngáº¡i váº­t.

                       
   void clean(): HÃ m clean() giÃºp dá»n dáº¹p tÃ i nguyÃªn khi game káº¿t thÃºc!
   
                 Trong game sá»­ dá»¥ng SDL, cáº§n giáº£i phÃ³ng tÃ i nguyÃªn nhÆ° áº£nh, cá»­a sá»•, renderer khi thoÃ¡t. 1ï¸âƒ£ Giáº£i phÃ³ng bá»™ nhá»› cá»§a SDL.

                 
                                                                                                        2ï¸âƒ£ ÄÃ³ng cá»­a sá»• game.
                                                                                                        
                                                                                                        
                                                                                                        3ï¸âƒ£ XÃ³a hÃ¬nh áº£nh, Ã¢m thanh Ä‘Ã£ táº£i vÃ o bá»™ nhá»›.
                                                                                                        
                                                                                                        
  bool checkCollision(): Kiá»ƒm tra xem chim va cháº¡m vá»›i á»‘ng hay chÆ°a
